<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ë—É–∫–≤–æ–º—ë—Ç</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            font-family: Arial, sans-serif;
        }
        body {
            overflow: hidden;
            touch-action: none;
            background: #f0f0f0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
        }
        #letters-top {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
            padding: 10px;
            max-width: 100%;
        }
        .letter {
            font-size: 24px;
            width: 40px;
            height: 40px;
            background: #4CAF50;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .letter:active {
            transform: scale(0.9);
        }
        #gun {
            width: 50px;
            height: 50px;
            background: #333;
            border-radius: 50% 50% 0 0;
            position: relative;
            margin-bottom: 20px;
        }
        #gun::after {
            content: "üî´";
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 30px;
        }
        #collected-letters {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
            padding: 10px;
            min-height: 50px;
            background: #e0e0e0;
            border-radius: 10px;
            width: 100%;
        }
        #controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        button {
            padding: 10px 15px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:disabled {
            background: #cccccc;
        }
        #score {
            font-size: 20px;
            font-weight: bold;
            margin-top: 10px;
        }
        @media (max-width: 400px) {
            .letter {
                width: 30px;
                height: 30px;
                font-size: 18px;
            }
            button {
                padding: 8px 12px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div id="letters-top"></div>
    <div id="gun"></div>
    <div id="collected-letters"></div>
    <div id="controls">
        <button id="shoot-btn">–í—ã—Å—Ç—Ä–µ–ª (–û—Å—Ç–∞–ª–æ—Å—å: 15)</button>
        <button id="collect-btn" disabled>–°–æ–±—Ä–∞—Ç—å —Å–ª–æ–≤–æ</button>
        <button id="clear-btn" disabled>–°—Ç–µ—Ä–µ—Ç—å</button>
    </div>
    <div id="score">–û—á–∫–∏: 0</div>

    <script>
        const letters = "–ê–û–ò–ï–ü–†–¢–ù"; // –¢–æ–ª—å–∫–æ —ç—Ç–∏ –±—É–∫–≤—ã
        const dictionary = ["–ü–ê–ü–ê", "–ú–ê–ú–ê", "–ü–ò–†", "–ü–ï–ù–ê", "–¢–û–ù", "–ù–û–¢–ê", "–ü–ê–†", "–ü–ê–¢", "–¢–û–ü", "–†–û–¢", "–ü–û–†–¢", "–¢–û–†–¢", "–ü–ò–†", "–ü–ï–ù–ê", "–¢–ï–ü–õ–û", "–ü–ï–†–û", "–¢–ï–ù–û–†", "–ü–ê–†–¢–ï–†", "–¢–û–ù–ù–ê", "–ü–ê–ù–ù–û", "–ü–ê–ù", "–¢–û–ù", "–†–û–¢–ê", "–¢–ï–†–ê–ü–ò–Ø", "–ü–ê–ù–ò", "–ü–ê–¢–ò", "–¢–ê–ü–ï–†", "–ü–ò–ê–ù–û", "–ü–ê–†–¢–ò–Ø", "–¢–†–ò–û", "–ü–ò–û–ù", "–ü–û–ù–ò", "–¢–ò–ü", "–ü–ò–¢–û–ù", "–¢–ï–ü–õ–û", "–ü–õ–û–¢", "–ü–õ–ê–¢–û", "–¢–ï–ü–õ–û", "–ü–ê–†–ï–ù–¨", "–¢–ï–ù–û–†", "–ü–ï–ù–ê–¢", "–¢–û–ù–ò–†", "–ü–ê–†–¢–ï–†", "–¢–ï–ù–û–†", "–ü–ò–†–ê–¢", "–¢–†–û–ü–ê", "–ü–ê–†–¢–ê", "–¢–û–ü–û–†", "–ü–û–†–ê", "–¢–û–ü–ò–ö", "–ü–ê–ù–ò–ö", "–¢–ï–ü–õ–û"];

        let bulletsLeft = 15;
        let score = 0;
        let collectedLetters = [];
        const lettersTop = document.getElementById("letters-top");
        const collectedLettersDiv = document.getElementById("collected-letters");
        const shootBtn = document.getElementById("shoot-btn");
        const collectBtn = document.getElementById("collect-btn");
        const clearBtn = document.getElementById("clear-btn");
        const scoreDisplay = document.getElementById("score");

        // –°—Ç—Ä–µ–ª—å–±–∞
        shootBtn.addEventListener("click", () => {
            if (bulletsLeft <= 0) return;
            
            bulletsLeft--;
            shootBtn.textContent = `–í—ã—Å—Ç—Ä–µ–ª (–û—Å—Ç–∞–ª–æ—Å—å: ${bulletsLeft})`;
            
            const randomLetter = letters[Math.floor(Math.random() * letters.length)];
            const letterElement = document.createElement("div");
            letterElement.className = "letter";
            letterElement.textContent = randomLetter;
            
            letterElement.addEventListener("click", () => {
                if (collectedLetters.length < bulletsLeft) {
                    collectedLetters.push(randomLetter);
                    collectedLettersDiv.textContent = collectedLetters.join("");
                    collectBtn.disabled = false;
                    clearBtn.disabled = false;
                }
            });
            
            lettersTop.appendChild(letterElement);
        });

        // –°–±–æ—Ä —Å–ª–æ–≤–∞
        collectBtn.addEventListener("click", () => {
            const word = collectedLetters.join("").toUpperCase();
            
            if (dictionary.includes(word)) {
                score += word.length;
                scoreDisplay.textContent = `–û—á–∫–∏: ${score}`;
                
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–∞—Ç—Ä–æ–Ω—ã
                bulletsLeft += word.length;
                shootBtn.textContent = `–í—ã—Å—Ç—Ä–µ–ª (–û—Å—Ç–∞–ª–æ—Å—å: ${bulletsLeft})`;
                
                // –û—á–∏—â–∞–µ–º —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –±—É–∫–≤—ã
                collectedLetters = [];
                collectedLettersDiv.textContent = "";
                collectBtn.disabled = true;
                clearBtn.disabled = true;
                
                // –£–¥–∞–ª—è–µ–º –±—É–∫–≤—ã —Å–≤–µ—Ä—Ö—É
                lettersTop.innerHTML = "";
            } else {
                alert("–¢–∞–∫–æ–≥–æ —Å–ª–æ–≤–∞ –Ω–µ—Ç –≤ —Å–ª–æ–≤–∞—Ä–µ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë.");
            }
        });

        // –û—á–∏—Å—Ç–∫–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –±—É–∫–≤
        clearBtn.addEventListener("click", () => {
            collectedLetters = [];
            collectedLettersDiv.textContent = "";
            collectBtn.disabled = true;
            clearBtn.disabled = true;
        });
    </script>
</body>
</html>
