<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–°–µ–º–µ–π–Ω—ã–µ –•–ª–æ–ø–æ—Ç—ã: –°–æ —Å–º–∞–π–ª–∏–∫–∞–º–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }
        
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(to bottom, #ffcc80, #ffb74d);
            color: #5d4037;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        #game-container {
            position: relative;
            width: 100%;
            height: 85vh;
            max-width: 800px;
            max-height: 600px;
            background-color: #ffecb3;
            border: 5px solid #ffa000;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        }
        
        #house {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #fff9c4;
            background-image: 
                radial-gradient(circle at 20% 30%, #ffecb3 10px, transparent 10px),
                radial-gradient(circle at 80% 70%, #ffecb3 15px, transparent 15px);
        }
        
        .room {
            position: absolute;
            background-color: #ffccbc;
            border: 3px solid #ff8a65;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #5d4037;
            font-size: 14px;
            text-align: center;
            padding: 5px;
        }
        
        #living-room {
            width: 250px;
            height: 150px;
            bottom: 20px;
            left: 20px;
        }
        
        #kitchen {
            width: 180px;
            height: 120px;
            bottom: 20px;
            right: 20px;
        }
        
        #bedroom {
            width: 200px;
            height: 130px;
            top: 20px;
            left: 20px;
        }
        
        #bathroom {
            width: 150px;
            height: 100px;
            top: 20px;
            right: 20px;
        }
        
        #mom {
            position: absolute;
            width: 50px;
            height: 50px;
            z-index: 100;
            transition: all 0.2s ease;
            font-size: 40px;
            text-align: center;
        }
        
        .child {
            position: absolute;
            z-index: 90;
            transition: all 0.3s ease;
            font-size: 35px;
            text-align: center;
        }
        
        #vera {
            width: 40px;
            height: 40px;
        }
        
        #matvey {
            width: 45px;
            height: 45px;
        }
        
        #nikita {
            width: 50px;
            height: 50px;
        }
        
        .mess {
            position: absolute;
            z-index: 80;
            transition: opacity 0.5s ease;
            animation: appear 0.5s ease;
            font-size: 25px;
        }
        
        @keyframes appear {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }
        
        .health-bar {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 6px;
            background-color: #ccc;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .health {
            height: 100%;
            background-color: #4CAF50;
            transition: width 0.3s ease;
            width: 100%;
        }
        
        .name-tag {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            white-space: nowrap;
            font-weight: bold;
            text-shadow: 1px 1px 0 white;
            background: rgba(255, 255, 255, 0.7);
            padding: 2px 5px;
            border-radius: 5px;
        }
        
        #hud {
            display: flex;
            justify-content: space-around;
            width: 100%;
            max-width: 800px;
            margin: 10px 0;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            border: 3px solid #ffa000;
            border-radius: 10px;
        }
        
        #score {
            font-size: 18px;
            font-weight: bold;
            color: #FF5722;
        }
        
        #mood-display {
            font-size: 18px;
            font-weight: bold;
            color: #2196F3;
        }
        
        #timer {
            font-size: 18px;
            font-weight: bold;
            color: #9C27B0;
        }
        
        #message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.9);
            border: 3px solid #FFA000;
            border-radius: 10px;
            text-align: center;
            font-size: 20px;
            display: none;
            z-index: 200;
            max-width: 80%;
        }
        
        #start-btn {
            padding: 10px 20px;
            background: linear-gradient(to bottom, #4CAF50, #2E7D32);
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            box-shadow: 0 4px 0 #388E3C;
        }
        
        #start-btn:active {
            transform: translateY(4px);
            box-shadow: none;
        }
        
        #instructions {
            text-align: center;
            margin-bottom: 10px;
            padding: 0 10px;
            font-size: 14px;
            max-width: 800px;
        }
        
        .angry {
            animation: angryShake 0.5s ease infinite;
        }
        
        @keyframes angryShake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            50% { transform: translateX(3px); }
            75% { transform: translateX(-3px); }
            100% { transform: translateX(0); }
        }
        
        .cleaning {
            animation: cleaningSpin 0.5s ease infinite;
        }
        
        @keyframes cleaningSpin {
            0% { transform: rotate(0deg); }
            50% { transform: rotate(10deg); }
            100% { transform: rotate(0deg); }
        }
        
        .scared {
            animation: scaredJump 0.3s ease;
        }
        
        @keyframes scaredJump {
            0% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0); }
        }
        
        .bubble {
            position: absolute;
            background: white;
            border: 2px solid #5d4037;
            border-radius: 15px;
            padding: 5px 10px;
            font-size: 12px;
            z-index: 150;
            max-width: 120px;
            text-align: center;
            animation: fadeOut 2s forwards;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
        }
        
        @keyframes fadeOut {
            0% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        #actions {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
            max-width: 800px;
        }
        
        .action-btn {
            padding: 8px 15px;
            background: linear-gradient(to bottom, #7986cb, #3949ab);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 14px;
            cursor: pointer;
            box-shadow: 0 3px 0 #3f51b5;
        }
        
        .action-btn:active {
            transform: translateY(3px);
            box-shadow: none;
        }
        
        .action-btn:disabled {
            background: #ccc;
            box-shadow: 0 3px 0 #999;
            cursor: not-allowed;
        }
        
        #customize {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffa000;
            display: none;
            z-index: 300;
            max-width: 80%;
        }
        
        #customize-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            background: #ffa000;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 12px;
            cursor: pointer;
            z-index: 250;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        
        .volume-control label {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1>–°–µ–º–µ–π–Ω—ã–µ –•–ª–æ–ø–æ—Ç—ã: –°–æ —Å–º–∞–π–ª–∏–∫–∞–º–∏</h1>
    
    <div id="instructions">
        –£–ø—Ä–∞–≤–ª—è–π –º–∞–º–æ–π, —É–±–∏—Ä–∞–π –±–µ—Å–ø–æ—Ä—è–¥–æ–∫ –∏ –ø—Ä–∏—Å–º–∞—Ç—Ä–∏–≤–∞–π –∑–∞ –¥–µ—Ç—å–º–∏!<br>
        –í–µ—Ä–∞ —Ä–∏—Å—É–µ—Ç, –ú–∞—Ç–≤–µ–π –æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∏—Å–∫–∏, –ù–∏–∫–∏—Ç–∞ —Ä–∞–∑–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ–±—ë—Ä—Ç–∫–∏!
    </div>
    
    <div id="hud">
        <div>–£–±—Ä–∞–Ω–æ: <span id="score">0</span></div>
        <div>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: <span id="mood">100%</span></div>
        <div>–í—Ä–µ–º—è: <span id="timer">120</span> —Å–µ–∫</div>
    </div>
    
    <div id="game-container">
        <div id="house">
            <div class="room" id="living-room">–ì–æ—Å—Ç–∏–Ω–∞—è</div>
            <div class="room" id="kitchen">–ö—É—Ö–Ω—è</div>
            <div class="room" id="bedroom">–°–ø–∞–ª—å–Ω—è</div>
            <div class="room" id="bathroom">–í–∞–Ω–Ω–∞—è</div>
            
            <div id="mom">üë©</div>
            
            <div class="child" id="vera">
                <div class="name-tag">–í–µ—Ä–∞</div>
                <div class="health-bar"><div class="health" id="vera-health"></div></div>
                üëß
            </div>
            
            <div class="child" id="matvey">
                <div class="name-tag">–ú–∞—Ç–≤–µ–π</div>
                <div class="health-bar"><div class="health" id="matvey-health"></div></div>
                üë¶
            </div>
            
            <div class="child" id="nikita">
                <div class="name-tag">–ù–∏–∫–∏—Ç–∞</div>
                <div class="health-bar"><div class="health" id="nikita-health"></div></div>
                üßí
            </div>
        </div>
        
        <div id="message"></div>
        <button id="customize-btn">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å</button>
        <div id="customize">
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã</h3>
            <div>
                <label>–ò–º—è –º–∞–º—ã: <input type="text" id="mom-name" value="–ú–∞–º–∞"></label>
            </div>
            <div>
                <label>–§—Ä–∞–∑–∞ –∫—Ä–∏–∫–∞: <input type="text" id="yell-phrase" value="–¢–∞–∫, –±—ã—Å—Ç—Ä–æ –ø—Ä–∏–±—Ä–∞—Ç—å—Å—è!"></label>
            </div>
            <div class="volume-control">
                <label>–ì—Ä–æ–º–∫–æ—Å—Ç—å: </label>
                <input type="range" id="volume" min="0" max="1" step="0.1" value="0.5">
                <span id="volume-value">50%</span>
            </div>
            <button id="save-customize">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
    </div>
    
    <div id="actions">
        <button class="action-btn" id="action-yell">–ö—Ä–∏–∫–Ω—É—Ç—å</button>
        <button class="action-btn" id="action-clean">–ë—ã—Å—Ç—Ä–∞—è —É–±–æ—Ä–∫–∞</button>
        <button class="action-btn" id="action-hug">–û–±–Ω—è—Ç—å –¥–µ—Ç–µ–π</button>
    </div>
    
    <button id="start-btn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–≥—Ä—ã
            const gameContainer = document.getElementById('game-container');
            const house = document.getElementById('house');
            const mom = document.getElementById('mom');
            const vera = document.getElementById('vera');
            const matvey = document.getElementById('matvey');
            const nikita = document.getElementById('nikita');
            const scoreElement = document.getElementById('score');
            const timerElement = document.getElementById('timer');
            const moodElement = document.getElementById('mood');
            const messageElement = document.getElementById('message');
            const startBtn = document.getElementById('start-btn');
            const veraHealth = document.getElementById('vera-health');
            const matveyHealth = document.getElementById('matvey-health');
            const nikitaHealth = document.getElementById('nikita-health');
            const actionYell = document.getElementById('action-yell');
            const actionClean = document.getElementById('action-clean');
            const actionHug = document.getElementById('action-hug');
            const customizeBtn = document.getElementById('customize-btn');
            const customizePanel = document.getElementById('customize');
            const saveCustomizeBtn = document.getElementById('save-customize');
            const volumeControl = document.getElementById('volume');
            const volumeValue = document.getElementById('volume-value');
            
            // –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–∞—à–∏ —Ñ–∞–π–ª—ã
            const cleanSound = new Audio('clean.mp3');
            const yellSound = new Audio('yell.mp3');
            const hugSound = new Audio('hug.mp3');
            const messSound = new Audio('mess.mp3');
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            let customSettings = {
                momName: "–ú–∞–º–∞",
                yellPhrase: "–¢–∞–∫, –±—ã—Å—Ç—Ä–æ –ø—Ä–∏–±—Ä–∞—Ç—å—Å—è!",
                volume: 0.5
            };
            
            // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
            let gameState = {
                score: 0,
                mood: 100,
                timeLeft: 120,
                isPlaying: false,
                momPosition: { x: 200, y: 300 },
                children: {
                    vera: { x: 100, y: 100, health: 100, makingMess: false, mess: null, mood: 100 },
                    matvey: { x: 300, y: 200, health: 100, makingMess: false, mess: null, mood: 100 },
                    nikita: { x: 500, y: 150, health: 100, makingMess: false, mess: null, mood: 100 }
                },
                messes: [],
                gameInterval: null,
                timerInterval: null,
                cooldowns: {
                    yell: 0,
                    clean: 0,
                    hug: 0
                }
            };
            
            // –†–∞–∑–º–µ—Ä—ã –∏–≥—Ä–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏
            const gameWidth = gameContainer.offsetWidth;
            const gameHeight = gameContainer.offsetHeight;
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
            function showMessage(text) {
                messageElement.textContent = text;
                messageElement.style.display = 'block';
                
                setTimeout(() => {
                    messageElement.style.display = 'none';
                }, 3000);
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
            function initGame() {
                // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
                gameState.score = 0;
                gameState.mood = 100;
                gameState.timeLeft = 120;
                gameState.messes = [];
                gameState.children.vera.health = 100;
                gameState.children.matvey.health = 100;
                gameState.children.nikita.health = 100;
                gameState.children.vera.mood = 100;
                gameState.children.matvey.mood = 100;
                gameState.children.nikita.mood = 100;
                gameState.children.vera.makingMess = false;
                gameState.children.matvey.makingMess = false;
                gameState.children.nikita.makingMess = false;
                
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
                gameState.momPosition = { x: gameWidth / 2, y: gameHeight / 2 };
                gameState.children.vera = { x: 100, y: 100, health: 100, makingMess: false, mess: null, mood: 100 };
                gameState.children.matvey = { x: 300, y: 200, health: 100, makingMess: false, mess: null, mood: 100 };
                gameState.children.nikita = { x: 500, y: 150, health: 100, makingMess: false, mess: null, mood: 100 };
                
                // –°–±—Ä–æ—Å –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
                gameState.cooldowns = { yell: 0, clean: 0, hug: 0 };
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
                scoreElement.textContent = gameState.score;
                moodElement.textContent = gameState.mood + '%';
                timerElement.textContent = gameState.timeLeft;
                veraHealth.style.width = '100%';
                matveyHealth.style.width = '100%';
                nikitaHealth.style.width = '100%';
                
                // –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –±–µ—Å–ø–æ—Ä—è–¥–∫–∞
                document.querySelectorAll('.mess').forEach(mess => mess.remove());
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
                updatePositions();
                
                // –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
                startGame();
            }
            
            // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
            function startGame() {
                if (gameState.gameInterval) clearInterval(gameState.gameInterval);
                if (gameState.timerInterval) clearInterval(gameState.timerInterval);
                
                gameState.isPlaying = true;
                startBtn.textContent = "–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫";
                messageElement.style.display = 'none';
                
                // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
                gameState.timerInterval = setInterval(() => {
                    gameState.timeLeft--;
                    timerElement.textContent = gameState.timeLeft;
                    
                    // –£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
                    for (let ability in gameState.cooldowns) {
                        if (gameState.cooldowns[ability] > 0) {
                            gameState.cooldowns[ability]--;
                        }
                    }
                    
                    updateAbilityButtons();
                    
                    if (gameState.timeLeft <= 0) {
                        endGame();
                    }
                }, 1000);
                
                // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
                gameState.gameInterval = setInterval(() => {
                    moveChildren();
                    makeMesses();
                    updatePositions();
                    updateMood();
                }, 100);
            }
            
            // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
            function endGame() {
                gameState.isPlaying = false;
                clearInterval(gameState.gameInterval);
                clearInterval(gameState.timerInterval);
                
                let message = `–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –£–±—Ä–∞–Ω–æ: ${gameState.score}`;
                if (gameState.score > 200) {
                    message += "\n–û—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–∏–ª–∞—Å—å!";
                } else if (gameState.score > 100) {
                    message += "\n–•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞!";
                } else {
                    message += "\n–ú–æ–∂–Ω–æ –ª—É—á—à–µ!";
                }
                
                showMessage(message);
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            function updatePositions() {
                // –ü–æ–∑–∏—Ü–∏—è –º–∞–º—ã
                mom.style.left = (gameState.momPosition.x - 25) + 'px';
                mom.style.top = (gameState.momPosition.y - 25) + 'px';
                
                // –ü–æ–∑–∏—Ü–∏–∏ –¥–µ—Ç–µ–π
                vera.style.left = (gameState.children.vera.x - 20) + 'px';
                vera.style.top = (gameState.children.vera.y - 20) + 'px';
                
                matvey.style.left = (gameState.children.matvey.x - 22) + 'px';
                matvey.style.top = (gameState.children.matvey.y - 22) + 'px';
                
                nikita.style.left = (gameState.children.nikita.x - 25) + 'px';
                nikita.style.top = (gameState.children.nikita.y - 25) + 'px';
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è
                veraHealth.style.width = gameState.children.vera.health + '%';
                matveyHealth.style.width = gameState.children.matvey.health + '%';
                nikitaHealth.style.width = gameState.children.nikita.health + '%';
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∑–¥–æ—Ä–æ–≤—å—è
                updateHealthColor(veraHealth, gameState.children.vera.health);
                updateHealthColor(matveyHealth, gameState.children.matvey.health);
                updateHealthColor(nikitaHealth, gameState.children.nikita.health);
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø–æ–ª–æ—Å–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
            function updateHealthColor(healthBar, health) {
                if (health > 70) {
                    healthBar.style.backgroundColor = '#4CAF50';
                } else if (health > 30) {
                    healthBar.style.backgroundColor = '#FFC107';
                } else {
                    healthBar.style.backgroundColor = '#F44336';
                }
            }
            
            // –î–≤–∏–∂–µ–Ω–∏–µ –¥–µ—Ç–µ–π
            function moveChildren() {
                moveChild('vera');
                moveChild('matvey');
                moveChild('nikita');
            }
            
            // –î–≤–∏–∂–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞
            function moveChild(childName) {
                const child = gameState.children[childName];
                
                // –ï—Å–ª–∏ –∑–¥–æ—Ä–æ–≤—å–µ –Ω–∏–∑–∫–æ–µ, —Ä–µ–±–µ–Ω–æ–∫ –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è
                if (child.health < 30) {
                    // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
                    child.health = Math.min(100, child.health + 0.5);
                    child.mood = Math.min(100, child.mood + 0.3);
                    return;
                }
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (—É–±–µ–≥–∞—é—Ç –æ—Ç –º–∞–º—ã)
                const dx = child.x - gameState.momPosition.x;
                const dy = child.y - gameState.momPosition.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                // –ï—Å–ª–∏ –¥–∞–ª–µ–∫–æ –æ—Ç –º–∞–º—ã, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–µ—Å–ø–æ—Ä—è–¥–æ–∫
                if (distance > 150 && !child.makingMess && Math.random() < 0.1) {
                    child.makingMess = true;
                }
                
                // –ï—Å–ª–∏ –±–ª–∏–∑–∫–æ –∫ –º–∞–º–µ, —É–±–µ–≥–∞–µ–º
                if (distance < 100) {
                    // –£–±–µ–≥–∞–µ–º –æ—Ç –º–∞–º—ã
                    const speed = 3;
                    child.x += (dx / distance) * speed;
                    child.y += (dy / distance) * speed;
                    
                    // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–æ–º–Ω–∞—Ç—ã
                    child.x = Math.max(30, Math.min(gameWidth - 30, child.x));
                    child.y = Math.max(50, Math.min(gameHeight - 30, child.y));
                    
                    // –ü—Ä–µ–∫—Ä–∞—â–∞–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–µ—Å–ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –º–∞–º—ã
                    if (child.makingMess) {
                        child.makingMess = false;
                        if (child.mess) {
                            child.mess.element.remove();
                            child.mess = null;
                        }
                    }
                } else if (!child.makingMess) {
                    // –°–ª—É—á–∞–π–Ω–æ–µ –±–ª—É–∂–¥–∞–Ω–∏–µ
                    child.x += (Math.random() - 0.5) * 4;
                    child.y += (Math.random() - 0.5) * 4;
                    
                    // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–æ–º–Ω–∞—Ç—ã
                    child.x = Math.max(30, Math.min(gameWidth - 30, child.x));
                    child.y = Math.max(50, Math.min(gameHeight - 30, child.y));
                }
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –±–µ—Å–ø–æ—Ä—è–¥–∫–∞
            function makeMesses() {
                makeMess('vera', 'üñçÔ∏è', '—Ä–∏—Å—É–Ω–æ–∫');
                makeMess('matvey', 'ü•£', '–º–∏—Å–∫–∞');
                makeMess('nikita', 'üç¨', '–æ–±—ë—Ä—Ç–∫–∞');
                
                // –°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—É—à–µ–∫
                if (Math.random() < 0.02) {
                    createRandomToy();
                }
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –±–µ—Å–ø–æ—Ä—è–¥–∫–∞
            function makeMess(childName, emoji, type) {
                const child = gameState.children[childName];
                
                if (child.makingMess && !child.mess) {
                    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –±–µ—Å–ø–æ—Ä—è–¥–∫–∞
                    const messElement = document.createElement('div');
                    messElement.className = `mess`;
                    messElement.innerHTML = emoji;
                    messElement.style.left = (child.x - 15) + 'px';
                    messElement.style.top = (child.y + 10) + 'px';
                    
                    house.appendChild(messElement);
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–µ—Å–ø–æ—Ä—è–¥–∫–µ
                    child.mess = {
                        type: type,
                        element: messElement,
                        x: child.x,
                        y: child.y
                    };
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫
                    gameState.messes.push({
                        type: type,
                        element: messElement,
                        x: child.x,
                        y: child.y,
                        child: childName
                    });
                    
                    // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
                    playSound(messSound);
                    
                    // –£–º–µ–Ω—å—à–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
                    gameState.mood = Math.max(0, gameState.mood - 2);
                } else if (child.makingMess && child.mess) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –±–µ—Å–ø–æ—Ä—è–¥–∫–∞ –≤–º–µ—Å—Ç–µ —Å —Ä–µ–±–µ–Ω–∫–æ–º
                    child.mess.element.style.left = (child.x - 15) + 'px';
                    child.mess.element.style.top = (child.y + 10) + 'px';
                } else if (!child.makingMess && child.mess) {
                    // –£–¥–∞–ª—è–µ–º –±–µ—Å–ø–æ—Ä—è–¥–æ–∫, –µ—Å–ª–∏ —Ä–µ–±–µ–Ω–æ–∫ –ø–µ—Ä–µ—Å—Ç–∞–ª –µ–≥–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å
                    child.mess.element.remove();
                    child.mess = null;
                    
                    // –£–¥–∞–ª—è–µ–º –∏–∑ –æ–±—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
                    gameState.messes = gameState.messes.filter(m => m.child !== childName);
                }
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–π –∏–≥—Ä—É—à–∫–∏
            function createRandomToy() {
                const x = 50 + Math.random() * (gameWidth - 100);
                const y = 50 + Math.random() * (gameHeight - 100);
                
                const toyElement = document.createElement('div');
                toyElement.className = 'mess';
                toyElement.innerHTML = 'üß∏';
                toyElement.style.left = x + 'px';
                toyElement.style.top = y + 'px';
                
                house.appendChild(toyElement);
                
                gameState.messes.push({
                    type: '–∏–≥—Ä—É—à–∫–∞',
                    element: toyElement,
                    x: x,
                    y: y,
                    child: null
                });
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                showSpeechBubble("–ü–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è –∏–≥—Ä—É—à–∫–∞!", x, y);
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
            function updateMood() {
                // –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —É—Ö—É–¥—à–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –º–Ω–æ–≥–æ –±–µ—Å–ø–æ—Ä—è–¥–∫–∞
                const messFactor = gameState.messes.length * 0.5;
                gameState.mood = Math.max(0, gameState.mood - messFactor);
                
                // –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —É–ª—É—á—à–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —É–±–∏—Ä–∞–µ–º –±–µ—Å–ø–æ—Ä—è–¥–æ–∫
                if (gameState.score > 0) {
                    gameState.mood = Math.min(100, gameState.mood + 0.1);
                }
                
                moodElement.textContent = Math.round(gameState.mood) + '%';
                
                // –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ–µ, –∏–≥—Ä–∞ –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è
                if (gameState.mood < 30) {
                    mom.style.opacity = '0.7';
                } else {
                    mom.style.opacity = '1';
                }
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –ø—É–∑—ã—Ä—å —Å —Ä–µ—á—å—é
            function showSpeechBubble(text, x, y) {
                const bubble = document.createElement('div');
                bubble.className = 'bubble';
                bubble.textContent = text;
                bubble.style.left = (x - 60) + 'px';
                bubble.style.top = (y - 40) + 'px';
                
                house.appendChild(bubble);
                
                // –£–¥–∞–ª—è–µ–º –ø—É–∑—ã—Ä—å —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    bubble.remove();
                }, 2000);
            }
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤/–∫–∞—Å–∞–Ω–∏–π
            gameContainer.addEventListener('click', function(e) {
                if (!gameState.isPlaying) return;
                
                const rect = gameContainer.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // –î–≤–∏–≥–∞–µ–º –º–∞–º—É –∫ –º–µ—Å—Ç—É –∫–ª–∏–∫–∞
                gameState.momPosition.x = x;
                gameState.momPosition.y = y;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–ª–∏–∫–Ω—É–ª–∏ –ª–∏ –Ω–∞ –±–µ—Å–ø–æ—Ä—è–¥–æ–∫
                checkMessesAt(x, y);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–π–º–∞–ª–∏ –ª–∏ —Ä–µ–±–µ–Ω–∫–∞
                checkCaughtChild(x, y);
                
                updatePositions();
            });
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ –±–µ—Å–ø–æ—Ä—è–¥–æ–∫
            function checkMessesAt(x, y) {
                for (let i = gameState.messes.length - 1; i >= 0; i--) {
                    const mess = gameState.messes[i];
                    const distance = Math.sqrt(
                        Math.pow(mess.x - x, 2) + Math.pow(mess.y - y, 2)
                    );
                    
                    if (distance < 30) {
                        // –£–±–∏—Ä–∞–µ–º –±–µ—Å–ø–æ—Ä—è–¥–æ–∫
                        mess.element.remove();
                        gameState.messes.splice(i, 1);
                        
                        // –ù–∞—á–∏—Å–ª—è–µ–º –æ—á–∫–∏
                        gameState.score += 10;
                        scoreElement.textContent = gameState.score;
                        
                        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
                        playSound(cleanSound);
                        
                        // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —É–±–æ—Ä–∫–∏
                        mom.classList.add('cleaning');
                        setTimeout(() => mom.classList.remove('cleaning'), 500);
                    }
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–π–º–∞–Ω–Ω–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞
            function checkCaughtChild(x, y) {
                for (const childName in gameState.children) {
                    const child = gameState.children[childName];
                    const distance = Math.sqrt(
                        Math.pow(child.x - x, 2) + Math.pow(child.y - y, 2)
                    );
                    
                    if (distance < 40) {
                        // –†–µ–±–µ–Ω–æ–∫ –ø–æ–π–º–∞–Ω
                        child.health -= 20;
                        if (child.health < 0) child.health = 0;
                        
                        // –£—Ö—É–¥—à–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ä–µ–±–µ–Ω–∫–∞
                        child.mood = Math.max(0, child.mood - 10);
                        
                        // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
                        const childElement = document.getElementById(childName);
                        childElement.classList.add('scared');
                        setTimeout(() => childElement.classList.remove('scared'), 300);
                        
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                        showSpeechBubble("–ê–π, –±–æ–ª—å–Ω–æ!", child.x, child.y);
                        
                        // –ï—Å–ª–∏ —Å–æ–∑–¥–∞–≤–∞–ª –±–µ—Å–ø–æ—Ä—è–¥–æ–∫ - —É–±–∏—Ä–∞–µ–º –µ–≥–æ
                        if (child.makingMess && child.mess) {
                            child.makingMess = false;
                            child.mess.element.remove();
                            child.mess = null;
                            
                            // –£–¥–∞–ª—è–µ–º –∏–∑ –æ–±—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
                            gameState.messes = gameState.messes.filter(m => m.child !== childName);
                        }
                    }
                }
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –∫—Ä–∏–∫–∞
            actionYell.addEventListener('click', function() {
                if (!gameState.isPlaying || gameState.cooldowns.yell > 0) return;
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫—É
                gameState.cooldowns.yell = 10;
                updateAbilityButtons();
                
                // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
                playSound(yellSound);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                showSpeechBubble(customSettings.yellPhrase, gameState.momPosition.x, gameState.momPosition.y);
                
                // –ü—É–≥–∞–µ–º –¥–µ—Ç–µ–π
                for (const childName in gameState.children) {
                    const child = gameState.children[childName];
                    
                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Ä–µ–±–µ–Ω–∫–∞
                    const dx = child.x - gameState.momPosition.x;
                    const dy = child.y - gameState.momPosition.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    // –ï—Å–ª–∏ —Ä–µ–±–µ–Ω–æ–∫ –±–ª–∏–∑–∫–æ, –æ–Ω –ø—É–≥–∞–µ—Ç—Å—è
                    if (distance < 200) {
                        child.health -= 15;
                        if (child.health < 0) child.health = 0;
                        
                        // –£—Ö—É–¥—à–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ä–µ–±–µ–Ω–∫–∞
                        child.mood = Math.max(0, child.mood - 15);
                        
                        // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
                        const childElement = document.getElementById(childName);
                        childElement.classList.add('scared');
                        setTimeout(() => childElement.classList.remove('scared'), 300);
                        
                        // –ü—Ä–µ–∫—Ä–∞—â–∞–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–µ—Å–ø–æ—Ä—è–¥–æ–∫
                        if (child.makingMess && child.mess) {
                            child.makingMess = false;
                            child.mess.element.remove();
                            child.mess = null;
                            
                            // –£–¥–∞–ª—è–µ–º –∏–∑ –æ–±—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
                            gameState.messes = gameState.messes.filter(m => m.child !== childName);
                        }
                    }
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–π —É–±–æ—Ä–∫–∏
            actionClean.addEventListener('click', function() {
                if (!gameState.isPlaying || gameState.cooldowns.clean > 0) return;
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫—É
                gameState.cooldowns.clean = 15;
                updateAbilityButtons();
                
                // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
                playSound(cleanSound);
                
                // –£–±–∏—Ä–∞–µ–º –≤–µ—Å—å –±–µ—Å–ø–æ—Ä—è–¥–æ–∫ –≤ —Ä–∞–¥–∏—É—Å–µ
                for (let i = gameState.messes.length - 1; i >= 0; i--) {
                    const mess = gameState.messes[i];
                    const dx = mess.x - gameState.momPosition.x;
                    const dy = mess.y - gameState.momPosition.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 150) {
                        // –£–±–∏—Ä–∞–µ–º –±–µ—Å–ø–æ—Ä—è–¥–æ–∫
                        mess.element.remove();
                        gameState.messes.splice(i, 1);
                        
                        // –ù–∞—á–∏—Å–ª—è–µ–º –æ—á–∫–∏
                        gameState.score += 10;
                    }
                }
                
                scoreElement.textContent = gameState.score;
                
                // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —É–±–æ—Ä–∫–∏
                mom.classList.add('cleaning');
                setTimeout(() => mom.classList.remove('cleaning'), 500);
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –æ–±—ä—è—Ç–∏–π
            actionHug.addEventListener('click', function() {
                if (!gameState.isPlaying || gameState.cooldowns.hug > 0) return;
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫—É
                gameState.cooldowns.hug = 20;
                updateAbilityButtons();
                
                // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
                playSound(hugSound);
                
                // –£–ª—É—á—à–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ç–µ–π
                for (const childName in gameState.children) {
                    const child = gameState.children[childName];
                    
                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Ä–µ–±–µ–Ω–∫–∞
                    const dx = child.x - gameState.momPosition.x;
                    const dy = child.y - gameState.momPosition.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    // –ï—Å–ª–∏ —Ä–µ–±–µ–Ω–æ–∫ –±–ª–∏–∑–∫–æ, —É–ª—É—á—à–∞–µ–º –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
                    if (distance < 150) {
                        child.mood = Math.min(100, child.mood + 30);
                        child.health = Math.min(100, child.health + 20);
                        
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                        showSpeechBubble("–û–±–Ω—è–ª–∏—Å—å!", child.x, child.y);
                    }
                }
                
                // –£–ª—É—á—à–∞–µ–º –æ–±—â–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
                gameState.mood = Math.min(100, gameState.mood + 20);
                moodElement.textContent = Math.round(gameState.mood) + '%';
            });
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
            function updateAbilityButtons() {
                actionYell.textContent = gameState.cooldowns.yell > 0 ? 
                    `–ö—Ä–∏–∫–Ω—É—Ç—å (${gameState.cooldowns.yell})` : "–ö—Ä–∏–∫–Ω—É—Ç—å";
                actionYell.disabled = gameState.cooldowns.yell > 0;
                
                actionClean.textContent = gameState.cooldowns.clean > 0 ? 
                    `–£–±–æ—Ä–∫–∞ (${gameState.cooldowns.clean})` : "–ë—ã—Å—Ç—Ä–∞—è —É–±–æ—Ä–∫–∞";
                actionClean.disabled = gameState.cooldowns.clean > 0;
                
                actionHug.textContent = gameState.cooldowns.hug > 0 ? 
                    `–û–±–Ω—è—Ç—å (${gameState.cooldowns.hug})` : "–û–±–Ω—è—Ç—å –¥–µ—Ç–µ–π";
                actionHug.disabled = gameState.cooldowns.hug > 0;
            }
            
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞
            function playSound(sound) {
                sound.volume = customSettings.volume;
                sound.currentTime = 0;
                
                // –ü—ã—Ç–∞–µ–º—Å—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫
                sound.play().catch(e => {
                    console.log("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫: ", e);
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–∞—è –æ—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
                    if (!sound.errorShown) {
                        showMessage("–†–∞–∑—Ä–µ—à–∏—Ç–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–ø—ã—Ç–∞ –∏–≥—Ä—ã!");
                        sound.errorShown = true;
                    }
                });
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            startBtn.addEventListener('click', initGame);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            customizeBtn.addEventListener('click', function() {
                customizePanel.style.display = customizePanel.style.display === 'block' ? 'none' : 'block';
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
            saveCustomizeBtn.addEventListener('click', function() {
                customSettings.momName = document.getElementById('mom-name').value;
                customSettings.yellPhrase = document.getElementById('yell-phrase').value;
                customSettings.volume = parseFloat(document.getElementById('volume').value);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
                volumeValue.textContent = Math.round(customSettings.volume * 100) + '%';
                
                customizePanel.style.display = 'none';
                showMessage("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!");
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç–∏
            volumeControl.addEventListener('input', function() {
                const volume = parseFloat(volumeControl.value);
                volumeValue.textContent = Math.round(volume * 100) + '%';
            });
            
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
            gameContainer.addEventListener('contextmenu', e => e.preventDefault());
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            mom.style.left = (gameState.momPosition.x - 25) + 'px';
            mom.style.top = (gameState.momPosition.y - 25) + 'px';
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–æ—Ä–º—É
            document.getElementById('mom-name').value = customSettings.momName;
            document.getElementById('yell-phrase').value = customSettings.yellPhrase;
            document.getElementById('volume').value = customSettings.volume;
            volumeValue.textContent = Math.round(customSettings.volume * 100) + '%';
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
            showMessage("–ù–∞–∂–º–∏ '–ù–∞—á–∞—Ç—å –∏–≥—Ä—É' —á—Ç–æ–±—ã –∏–≥—Ä–∞—Ç—å!");
        });
    </script>
</body>
</html>